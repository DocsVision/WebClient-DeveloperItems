<?xml version="1.0" encoding="utf-8"?>
<Layout>
  <MainMenu Name="appMainMenu">

    <!-- Сервисные кнопки в папке Главное -->
    <RightMainMenuItemPanel >
     
      <!-- Кнопка для настройки дерева папок-->
      <ConfigurableMainMenuContainerButton Name="configurationButton" />
      <RefreshFoldersTreeButton Name="refreshFoldersTreeButton" IconClass="dv-ico ico-refresh-white refresh-folders-button" tip-res="RefreshFoldersTree" />
      <!-- Кнопка для закрепления панели-->
      <LayoutIconButton Name="pinToggleMenuButton" IconClass="dv-ico ico-unpinn" />
    </RightMainMenuItemPanel>

    <!-- Папка Главное -->
    <LinkMainMenuItem Name="dashboard" Href="#/Dashboard" Configurable-bool="false" Text-res="Navigator_Dashboard" IconClass="dv-ico ico-home" />

    <!-- Для папок внутри контейнера пользователю разрешено отключение папок -->
    <ConfigurableMainMenuContainer Name="configurable">
      <!-- Папка результатов полнотекстового поиска -->
      <SearchResultsMainMenuItem />

      <!-- Папка Последние карточки -->
      <LinkMainMenuItem Href="#/Folder/RecentCards" Compact-bool="true" TextResourceKey="Folder_RecentCards" IconClass="dv-ico dv-ico-history" />

      <!-- Стандартные папки маршрутизации УД - Мои задания. Показывать сразу развернутые подпапки, не показывать иконки папок -->
      <GroupMainMenuItem Text-res="MainMenu_Tasks" isExpanded-bool="true" expandChildrenLevel-int="3">
        <FolderMainMenuItem FolderId="8DF9FBB0-8325-4E6E-A29B-9C5064EF8502" Color="Tasks" ShowRoot-bool="false"
                            SubfoldersPreloadLevel-int="2" ShowChildrenIcons-bool="false" ForceVirtualFolderSearch-bool="true" />
      </GroupMainMenuItem>

      <!-- Стандартные папки маршрутизации УД - Мои документы. Показывать сразу подпапки, не показывать иконки папок -->
      <GroupMainMenuItem Text-res="MainMenu_Documents" isExpanded-bool="false" >
        <FolderMainMenuItem FolderId="30292A62-E596-4FE0-A901-19EE81124DC1" Color="Documents" ShowRoot-bool="false" ShowChildrenIcons-bool="false" />
      </GroupMainMenuItem>

      <!-- Стандартные папки маршрутизации УД - Замещение. Показывать сразу подпапки, не показывать иконки папок -->
      <GroupMainMenuItem Text-res="MainMenu_Substitution" isExpanded-bool="false" >
        <FolderMainMenuItem FolderId="7034106E-E76D-4611-BD98-7B0BA42B8DB4" Color="Tasks" ShowRoot-bool="false" ShowChildrenIcons-bool="false" />
      </GroupMainMenuItem>

      <!-- Группа Мои группы -->
      <GroupMainMenuItem Text-res="MainMenu_MyGroups">
        <!-- Групповые и ролевые папки пользователя. Показывать сразу подпапки, не показывать иконки папок -->
        <GroupFoldersMainMenuItem  ShowRoot-bool="false" ShowChildrenIcons-bool="false" />
      </GroupMainMenuItem>

      <!-- Папки, присоединенные пользователем. Показывать иконки папок. -->
      <UserFoldersMainMenuItem Name="userFolders" Text-res="MainMenu_MyFolders" />
    </ConfigurableMainMenuContainer>
  </MainMenu>
  <!-- Обязательная часть, в которой подключаются сервисные клиентские скрипты дерева папок -->
  <ConnectPinButtonToMainMenuScript MainMenuName="appMainMenu" PinButtonName="pinToggleMenuButton" />
  <ConnectUserFoldersButtonScript UserFoldersName="userFolders" ConfigurationButtonName="configurationButton" />
  <ConnectUserFoldersToConfigurableContainerScript UserFoldersName="userFolders" ConfigurableContainerName="configurable" />
  <ConnectConfigurableMainMenuContainerButtonScript ConfigurableContainerName="configurable" ButtonName="configurationButton" />
  <RefreshFoldersTreeScript  refreshButtonName="refreshFoldersTreeButton" />
</Layout>
